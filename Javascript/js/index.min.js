$((function(){var t=null;const n=CatABI,a=CatBodyInfo,e=templates,r={gasLimit:"10000000",gasPrice:"1000000000000"},i=function(t){var n=[];return t.forEach((function(t){var a=new BigNumber(t);n.push(a.toFixed())})),n},o=async(t,n)=>{var a=new BigNumber(n);return await t.methods.getAliana(a.toString(),{account:null,defaultContractOptions:r})},s=async t=>{var n=[],a=new BigNumber(t);for(let t=0;t<8;t++)a=a.dividedToIntegerBy(256),n[t]=a.mod(256).toNumber(),a=a.dividedToIntegerBy(256);return n},u=async t=>{var n=new BigNumber(t),a=[];for(let t=0;t<8;t++)a[t]=n.mod(65536).mod(256).toNumber(),n=n.dividedToIntegerBy(65536);return a},d=async(t,n)=>{if(n<=0)return"cat/frame/special_01.png";var a=0;return t.forEach((function(t){0==t&&(a+=2),1==t&&(a+=10),2==t&&(a+=20),3==t&&(a+=40),4==t&&(a+=100)})),a>=0&&a<50?"cat/frame/synthesis_06.png":a>=50&&a<120?"cat/frame/synthesis_05.png":a>=120&&a<240?"cat/frame/synthesis_07.png":a>=240&&a<500?"cat/frame/synthesis_03.png":a>=500&&a<999999999?"cat/frame/synthesis_04.png":void 0},c=async t=>{var n=[];return t.forEach((function(t,e){var r=a[1e3*(e+1)+t+1];null!=r?n.push(r.Pic+".png"):n.push("")})),n};$(".btn-primary").on("click",(async function(){if(""==$("#address").val().trim())return $("#address").notify("Input iotex address!",{position:"bottom"}),!1;$.LoadingOverlay("show");var a,l,f={address:$("#address").val(),nfts:[],totalDigP:0};try{f.nfts=await(async()=>{var a=[],e=$("#address").val(),l=null,f=null;null==t&&(l=new Antenna("https://api.iotex.one"),t=l.iotx),f=new Antenna.modules.Contract(n,"io1asxdtswkr9p6r9du57ecrhrql865tf2qxue6hw",{provider:t,signer:null});var g=new Antenna.modules.Contract(n,"io1mt5u8vzxzuwq7hut99t9tvduhykzgkfclwlsgj",{provider:t,signer:null}),p=i(await f.methods.tokensOfOwner(e,{account:null,defaultContractOptions:r})),m=i(await g.methods.depositedTokens(e,{account:null,defaultContractOptions:r}));return await async function(t,n){for(let a=0;a<t.length;a++)await n(t[a],a,t)}(m.concat(p),(async t=>{var n=await o(f,t),e=await u(n[3]),r=await s(n[3]);a.push({nft_id:t,nft_digp:new BigNumber(n[4]).toFixed(),nft_style:await c(r),nft_qlty:e,nft_frame:await d(e,n[4])})})),a})(),f.totalDigP=await(async t=>{var n=0;return t.forEach((function(t){n+=parseInt(t.nft_digp)})),n})(f.nfts),a=f.totalDigP,l=ejs.render(e.totalDigP,{totalDigp:a}),$(".totalDigP_Wrapper").html(l),function(t){var n=ejs.render(e.starz,t);$(".nft_wrapper").html(n)}(f)}catch(t){$.LoadingOverlay("hide"),$.notify("Error getting nfs!","error")}$.LoadingOverlay("hide")}))}));